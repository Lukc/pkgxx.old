#
## Include for CMake
#
# Need $name, $version, $release and $source
# Can receive arguments from $cmake_opts and $make_opts
#

cmake_opts=(
	-DPREFIX=$prefix
	-DCMAKE_INSTALL_DIR=$prefix
	-DSYSCONF_INSTALL_DIR=$sysconfdir
	-DLIB_INSTALL_DIR=$libdir
	-DDATAROOTDIR=$datarootdir
	-DBINDIR=$bindir
	-DMANDIR=$mandir
	${cmake_opts[@]}
)

if [[ "$separate_build_dir" = "yes" ]]; then
	build() {
	cd $name-$version
		mkdir __build__
		cd __build__
		cmake ..
		pkgmake ${make_opts[@]}
		pkgmake DESTDIR=$PKG ${make_opts[@]} install
	}

else
	build() {
	cd $name-$version
		cmake .
		pkgmake ${make_opts[@]}
		pkgmake DESTDIR=$PKG ${make_opts[@]} install
	}
fi

